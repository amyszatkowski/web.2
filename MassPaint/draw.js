record();
reset();
hide();
speed(0);

///TOOLS////

$("#button-save").on("click",function() {
 downloadRecording();
 $(".tool").removeClass("selected");
 $(this).addClass("selected");
});

$("#button-replay").on("click",function() {
 replay();
$(".tool").removeClass("selected");
 $(this).addClass("selected");
});

$("#button-pen").on("click",function(){
	$(".tool").removeClass("selected");
	$(this).addClass("selected");
    tool = "pen"
    lineWidth(width)
    lineColor(color)
});

$("#button-eraser").on("click",function() {
  $(".tool").removeClass("selected");
  $(this).addClass("selected");
  tool = "eraser";
  lineWidth(100);
  lineColor("white");
});


///START STAMPS////

$("#button-bubble").on("click", function(){
	$(".tool").removeClass("selected");
	$(this).addClass("selected");
	tool = "bubble"
	lineWidth(width);
	lineColor(color);
});

function bubble(){
		angle(0)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)
		forward(2)
		rotate(6)

		move(6,6)

		forward(2)
		rotate(7)
		forward(2)
		rotate(7)
		forward(2)
		rotate(7)
		forward(2)
		rotate(7)
		forward(2)


		
	

};


$("#button-bubbleSmall").on("click", function(){
	$(".tool").removeClass("selected");
	$(this).addClass("selected");
	tool = "bubbleSmall"
	lineWidth(width);
	lineColor(color);
});


function bubbleSmall(){
	angle(0)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)

	move(4,1)
	
	forward(2)
	rotate(10)
	forward(2)
	rotate(10)
	forward(2)


};


$("#button-flower").on("click", function(){
	$(".tool").removeClass("selected");
	$(this).addClass("selected");
	tool = "flower"
	lineWidth(width);
	lineColor(color);
});

function flower(){
		angle(0)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)

		rotate(75)

		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)

		rotate(75)

		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)

		rotate(75)

		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)

				rotate(75)

		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)


				rotate(75)

		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)
		forward(3)
		rotate(5)



};


$("#button-flowerSmall").on("click", function(){
	$(".tool").removeClass("selected");
	$(this).addClass("selected");
	tool = "flowerSmall"
	lineWidth(width);
	lineColor(color);
});

function flowerSmall(){
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
		forward(3)
	rotate(15)
	forward(3)
	rotate(15)

	rotate(74)

	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
		forward(3)
	rotate(15)
	forward(3)
	rotate(15)

	

	rotate(74)


	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
		forward(3)
	rotate(15)
	forward(3)
	rotate(15)


	rotate(74)

	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
		forward(3)
	rotate(15)
	forward(3)
	rotate(15)


	rotate(74)

	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
	forward(3)
	rotate(15)
		forward(3)
	rotate(15)
	forward(3)
	rotate(15)

}


///START COLORS////


$(".color").on("click", function() {
	var col = $(this).data("color");
	lineColor(col);
	$(".color").removeClass("selected");
	$(this).addClass("selected");
});



////LINE WIDTH/////


$(".line").on("click", function(){
	var width = $(this).data("width");
	lineWidth(width);
	$(".line").removeClass("selected");
	$(this).addClass("selected");
});




////DRAW/////

var drawing = false;
var tool = "pen";
var color = "black";
var width = 2


$("canvas").on("mousemove",function(e) {
  e.preventDefault();
  if(drawing) {
    lineTo(e.pageX,e.pageY);
  }
});

$("canvas").on("mouseup",function(e) {
  e.preventDefault();
  drawing = false;
});



///STAMPS///

$("canvas").on("mousedown",function(e) {
  e.preventDefault();
  moveTo(e.pageX,e.pageY);
  if(tool == "pen" || tool =="eraser") { 
    drawing = true;
  
  } else if(tool == "bubble") {
    bubble();
  
  }else if(tool == "bubbleSmall") {
    bubbleSmall();
 
   } else if(tool == "flower") {
    flower();
  
  } else if(tool == "flowerSmall") {
    flowerSmall();
  }
});










